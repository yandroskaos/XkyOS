;;
;; Memory.inc -- Memory structures
;;
;; Copyright (c) 2007 by Pablo Bravo
;; All Rights Reserved
;;

%ifndef __MEMORY_INCLUDES__
%define __MEMORY_INCLUDES__

;Descriptores
%define NULL_SEGMENT_DESCRIPTOR_R0_LOW		0x00000000
%define NULL_SEGMENT_DESCRIPTOR_R0_HIGH		0x00000000
%define CODE_SEGMENT_DESCRIPTOR_R0_LOW		0x0000FFFF
%define CODE_SEGMENT_DESCRIPTOR_R0_HIGH		0x00CF9A00
%define DATA_SEGMENT_DESCRIPTOR_R0_LOW		0x0000FFFF
%define DATA_SEGMENT_DESCRIPTOR_R0_HIGH		0x00CF9200

%define CODE_SEGMENT_DESCRIPTOR_R3_LOW		0x0000FFFF
%define CODE_SEGMENT_DESCRIPTOR_R3_HIGH		0x00CFFA00

%define DATA_SEGMENT_DESCRIPTOR_R3_LOW		0x0000FFFF
%define DATA_SEGMENT_DESCRIPTOR_R3_HIGH		0x00CFF200

%define TSS_DESCRIPTOR_LOW		0x60000068
%define TSS_DESCRIPTOR_HIGH		0x00008901
;Offsets de la TSS
%define TSS_ESP0	0x0004
%define TSS_SS0		0x0008

;Selectores
%define NULL_SELECTOR			0x0000
%define CODE_R0_SELECTOR		0x0008
%define DATA_R0_SELECTOR		0x0010
%define CODE_R3_SELECTOR		0x001B
%define DATA_R3_SELECTOR		0x0023
%define TSS_SELECTOR			0x0028

;Processor structures directions
%define IDT_DIRECTION		0x00014000	;IDT Base Address
%define IDT_SEGMENT		0x1400		;IDT Segment
%define IDT_SIZE		0x0800		;IDT Size
%define GDT_DIRECTION		0x00015000	;GDT Base Address
%define GDT_SEGMENT		0x1500		;GDT Segment
%define GDT_SIZE		0x0030		;GDT Size
%define TSS_DIRECTION		0x00016000	;TSS Base Address
%define TSS_SIZE		0x0068		;TSS Size
	
;Paging
%define PAGE_SIZE 0x1000

%endif ; __MEMORY_INCLUDES__
